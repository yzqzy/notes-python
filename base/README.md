# Python

## 环境配置

mojo：python语言的超集。

插件：

* python 
* autopep8

## 进程、线程

### 功能

* 进程，能够完成多任务，比如在一台电脑上能够同时运行多个 QQ
* 线程，能够完成多任务，比如在 QQ 中可以存在多个聊天窗口

### 定义不同

* 进程是系统进行资源分配和调度的一个独立单位；
* 线程是进程的一个实体，是 CPU 调度和分派的单位，它是比进程更小的能独立运行的基本单位；
* 线程本身不具备系统资源，只具备运行中必不可少的资源（程序计数器、寄存器和栈等），但是它可以与同属一个进程的其他线程共享进程所拥有

### 区别

* 一个程序至少有一个进程，一个进程至少有一个线程；
* 线程的划分尺度小于进程（资源比进程少），使得多线程程序的并发性高；
* 进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率；
* 线程不能够独立执行，必须依存在进程中；
* 可以将进程理解为工厂中的一条流水线，其中的线程就是这个流水线的工人。

### 优缺点

线程和进程之间有时需要通信，操作系统提供了很多机制来实现进程间的通信。

## 协程

### 概念

在同一线程內，一段执行代码过程中，可以中断并跳转到另一段代码中，接着之前中断的地方继续执行。
协程运行状态和多线程类似。

### 协程优点

* 不需要创建多个线程对象，本质是单线程; 
* 无需上下文切换, 避免无意义调度, 可以提供性能;
* 无需原子操作锁定及同步开锁;
* 方便切换控制流, 简化编程模型;
* 高并发 + 高扩展性 + 低成本, 一个 CPU 可以支持上万的协程，适合高并发处理。

### 协程缺点

* 无法利用多核资源。协程的本质是单线程, 不能同时将单个 CPU 的多个核用上，协程需要进程配合才能运行在多 CPU 上; 
* 进行阻塞操作（IO）时，会阻塞掉整个程序。

## asyncio

asyncio 是 python 3.4 引入的标准库，内置对异步 IO 的支持。asyncio 的编程模型是一个消息循环，我们可以从 asyncio 模块中直接
获取一个 EventLoop 的引用，然后把需要执行的协程扔到 EventLoop 中执行，这样就实现异步 IO。

* event_loop 事件循环：程序开启一个死循环，我们可以把一些函数注册到事件循环上，当满足事件发生的时候，调用相应的协程函数；
* coroutine 协程：协程对象，指一个使用 async 关键字定义的函数，它的调用不会立即执行函数，而是会返回一个协程对象。协程对象需要注册到事件循环，由事件循环调用。
* task 任务: 一个线程对象就是一个原生可以挂起的函数，任务则是对协程进一步封装，其中包含任务的各种状态；
* future: 代表将来执行或者没有执行的任务的结果，它和 task 没有本质上的区别；
* async/await 关键字: python3.5 用于定义协程的关键字，async 定义一个协程，await 用于挂起阻塞的异步调用接口。
